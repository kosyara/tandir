<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–°–ª–æ–º–∞–π –¢–∞–Ω–¥—ã—Ä –ö–æ–≤—à–æ–º</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f8e7c9;
        text-align: center;
        padding: 30px;
    }

    #gameArea {
        position: relative;
        width: 300px;
        height: 350px;
        margin: 0 auto;
    }

    #tandir {
        width: 260px;
        height: 300px;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        position: absolute;
        left: 20px;
        top: 20px;
        transition: transform 0.1s;
    }

    #kovsh {
        width: 140px;
        position: absolute;
        right: -40px;
        top: 140px;
        transform-origin: left center;
        transform: rotate(0deg);
        transition: transform 0.1s;
    }

    #tandir.shake {
        transform: translateX(-10px);
    }

    #hpBar {
        width: 300px;
        height: 25px;
        background: #ddd;
        border-radius: 12px;
        margin: 20px auto;
        overflow: hidden;
    }

    #hpFill {
        height: 100%;
        width: 100%;
        background: #d9534f;
        transition: width 0.25s;
    }

    #hitBtn {
        font-size: 22px;
        padding: 15px 30px;
        margin-top: 10px;
        background: #c87a2b;
        border: none;
        border-radius: 10px;
        color: white;
        cursor: pointer;
    }

    #hitBtn:hover {
        background: #a86623;
    }

    #log {
        font-size: 20px;
        margin-top: 20px;
        min-height: 40px;
    }
</style>

</head>
<body>

<h1>ü•£ –°–ª–æ–º–∞–π –¢–∞–Ω–¥—ã—Ä –ö–æ–≤—à–æ–º!</h1>

<div id="gameArea">
    <div id="tandir"></div>
    <img id="kovsh" src="https://i.imgur.com/gjFqpqS.png">
</div>

<div id="hpBar">
    <div id="hpFill"></div>
</div>

<button id="hitBtn">–£–î–ê–†–ò–¢–¨ –ö–û–í–®–û–ú</button>

<div id="log"></div>

<script>
let hp = 100;

// –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Ç–∞–Ω–¥—ã—Ä–∞
const tandirStages = [
    "https://i.imgur.com/U5Qjio8.png", // –±–µ–∑ —Ç—Ä–µ—â–∏–Ω
    "https://i.imgur.com/odTg0zV.png", // –º–∞–ª–µ–Ω—å–∫–∏–µ —Ç—Ä–µ—â–∏–Ω—ã
    "https://i.imgur.com/g8GxQ4H.png", // –±–æ–ª—å—à–∏–µ —Ç—Ä–µ—â–∏–Ω—ã
    "https://i.imgur.com/VkrslEB.png"  // –ø–æ—á—Ç–∏ —Å–ª–æ–º–∞–Ω
];

document.getElementById("tandir").style.backgroundImage = `url(${tandirStages[0]})`;

document.getElementById("hitBtn").onclick = function () {
    if (hp <= 0) return;

    // —É—Ä–æ–Ω 10‚Äì25
    let dmg = Math.floor(Math.random() * 15) + 10;
    hp -= dmg;
    if (hp < 0) hp = 0;

    document.getElementById("hpFill").style.width = hp + "%";
    document.getElementById("log").innerText = `–¢—ã —É–¥–∞—Ä–∏–ª –∫–æ–≤—à–æ–º –∏ –Ω–∞–Ω—ë—Å ${dmg} —É—Ä–æ–Ω–∞!`;

    let tandir = document.getElementById("tandir");
    tandir.classList.add("shake");
    setTimeout(() => tandir.classList.remove("shake"), 100);

    // –ê–Ω–∏–º–∞—Ü–∏—è –∫–æ–≤—à–∞
    let kovsh = document.getElementById("kovsh");
    kovsh.style.transform = "rotate(-50deg)";
    setTimeout(() => { kovsh.style.transform = "rotate(0deg)"; }, 120);

    // —Å–º–µ–Ω–∞ —Å—Ç–∞–¥–∏–∏ —Ç—Ä–µ—â–∏–Ω
    if (hp > 75) tandir.style.backgroundImage = `url(${tandirStages[0]})`;
    else if (hp > 50) tandir.style.backgroundImage = `url(${tandirStages[1]})`;
    else if (hp > 25) tandir.style.backgroundImage = `url(${tandirStages[2]})`;
    else tandir.style.backgroundImage = `url(${tandirStages[3]})`;

    // —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ —Ç–∞–Ω–¥—ã—Ä–∞
    if (hp <= 0) {
        document.getElementById("log").innerHTML = "üî• –¢–∞–Ω–¥—ã—Ä —Ä–∞–∑—Ä—É—à–µ–Ω! –ü–æ–±–µ–¥–∞!";
        document.getElementById("hitBtn").disabled = true;
        document.getElementById("hitBtn").innerText = "–ì–æ—Ç–æ–≤–æ";
        document.getElementById("tandir").style.transform = "scale(0.8) rotate(10deg)";
    }
};
</script>

</body>
</html>
